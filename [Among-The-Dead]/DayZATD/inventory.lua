inventoryItems = {
["Weapons"] = {
["Primary Weapon"] = {
{"AK-107",3},
{"AK-74",3},
{"AKM",3},
{"AKS (gold)",3},
{"AKS-74U",3},
{"FN SCAR",3},
{"G36",3},
{"G36C-SD",3},
{"Gauss",3},
{"M240",5},
{"M249 Saw",5},
{"MG36",5},
{"Mk 48 Mod 0",5},
{"PKM",5},
{"M1014",3},
{"Remington 870",3},
{"Saiga 12K",3},
{"AS50",4},
{"CZ550",4},
{"DMR",4},
{"KSVK",4},
{"M107",4},
{"M24",4},
{"M40A3",4},
{"SVD Camo",4},
{"ВСС Vintorez",4},
{"M4A1",4},
{"M4A1 SD",4},
},
["Secondary Weapon"] = {
{"Faca de Caça",1},
{"Machado",2},
{"Taco de beisebol",2},
{"Motosserra",5},
{"Machete",2},
{"Pé-de-Cabra",2},
{"G17",2},
{"M1911",2},
{"M9",2},
{"M9 SD",2},
{"Makarov PM",2},
{"Revolver",2},
{"MP5",2},
},
["Specially Weapon"] = {
{"Pára-Quedas",1},
{"Binóculos",1}
},
},
["Ammo"] = {
{"AK mag",0.05},
{"AKM mag",0.05},
{"FN mag",0.05},
{"G36 mag",0.05},
{"Gauss mag",0.05},
{"M240 Belt",0.05},
{"M249 Belt",0.05},
{"MG36 mag",0.05},
{"PKM mag",0.05},
{"G17 mag",0.05},
{"M1911 mag",0.05},
{"M9 mag",0.05},
{"Makarov mag",0.02},
{".45 ACP",0.05},
{"M1014 Pellet",0.05},
{"Saiga mag",0.1},
{"AS50 mag",0.2},
{"CZ550 mag",0.2},
{"DMR mag",0.05},
{"KSVK mag",0.2},
{"M107 mag",0.1},
{"M24 mag",0.1},
{"M40A3 mag",0.05},
{"SVD mag",0.05},
{"ВСС mag",0.05},
{"M4A1 mag",0.05},
{"MP5 mag",0.05},
},
["Food"] = {
{"Garrafa de Água Completo",1},
{"Lata de Macarrão",1},
{"Lata de Feijão",1},
{"Hambúrguer",1},
{"Pizza",1},
{"Garrafa de Água Com Gás Completo",1},
{"Coca-Cola",1},
{"Carne Grelhada",1},
{"Peixe Frito",1},
},
["Items"] = {
{"Ração Seca Grande",10,"Abrir Ração Seca Grande"},
{"Ração Seca Pequena",5,"Abrir Ração Seca Pequena"},
{"Lenha",2},

{"Vara de Pesca",2},
--{"Снасти",0.4},
--{"Наживка",1},
{"Peixe Cru",1},

{"Ataduras",1,"Usar"},
{"Sinal de Fogo",1,"Colocar"},
{"Galão de Combútivel Vazio",2},
{"Galão de Combútivel Completo",2},
{"Kit de Primeiros Socorros",2,"Usar"},
--{"Pacote de Calor",1,"Usar"},
{"Analgésico",1,"Usar"},
{"Morfina",1,"Usar"},
{"Antibiótico",1,"Usar"},
{"Bolsa de Sangue",1,"Usar"},
--{"Arame Farpado",3,"Поставить колючую проволку"},
{"Carne Crua",1},
{"Pneu",2},
{"Motor",10},
{"Balde de Metal 1",15},
{"Balde de Metal 2",15},
{"Pá",5},
{"Tanque de Combústivel",3},
{"Mangueira",1},


{"Saco de Peças de Zumbi",3},
{"Tenda",4,"Colocar Tenda"},
{"Tenda Grande",6,"Colocar Tenda"},
{"Caixa Enorme",2,"Установить ящик"},

{"Vestuário: Militar 1",1,"Vestir-se",288},
{"Vestuário: Militar 2",1,"Vestir-se",286},
{"Vestuário: Militar 3",1,"Vestir-se",285},
{"Vestuário: Militar 4",1,"Vestir-se",284},
{"Vestuário: Militar 5",1,"Vestir-se",283},
{"Vestuário: Militar 6",1,"Vestir-se",282},
{"Vestuário: Militar 7",1,"Vestir-se",281},
{"Vestuário: Militar 8",1,"Vestir-se",276},
{"Vestuário: Mergulho",1,"Vestir-se",280},
{"Vestuário: Sobrevivente 1",1,"Vestir-se",279},
{"Vestuário: Sobrevivente 2",1,"Vestir-se",278},
{"Vestuário: Sobrevivente 3",1,"Vestir-se",277},
{"Vestuário: Sobrevivente 4",1,"Vestir-se",287},
{"Vestuário: Sobrevivente 5",1,"Vestir-se",259},
{"Vestuário: Sobrevivente 6",1,"Vestir-se",258},
{"Vestuário: Sobrevivente 7",1,"Vestir-se",255},
{"Vestuário: Atirador 1",1,"Vestir-se",249},
{"Vestuário: Atirador 2",1,"Vestir-se",250},
{"Vestuário: Atirador 3",1,"Vestir-se",252},
{"Vestuário: Atirador 4",1,"Vestir-se",253},
{"Vestuário: Bandido 1 nível",1,"Vestir-se",275},
{"Vestuário: Bandido nível 2",1,"Vestir-se",274},
{"Vestuário: Bandido nível 3",1,"Vestir-se",264},
{"Vestuário: Bandido nível 4",1,"Vestir-se",262},
{"Vestuário: Bandido nível 5",1,"Vestir-se",261},
{"Vestuário: Hero",1,"Vestir-se",260},


{"Capacete Militar 50%",2,"Colocar",{1,50}},
{"Capacete de Motocicleta 10%",2,"Colocar",{1,10}},
{"Máscara de Soldador 10%",1,"Colocar",{1,10}},
{"Capacete de Mineiro 5%",1,"Colocar",{1,5}},
{"Capacete Blindado 70%",5,"Colocar",{1,70}},
{"Capacete Blindado 80%",5,"Colocar",{1,80}},
{"Colete 20%",10,"Colocar",{2,20}},
{"Colete 30%",15,"Colocar",{2,30}},
{"Colete 10%",5,"Colocar",{2,10}},




{"Garrafa de Água Vazia",1,"Наполнить"}, 
{"Garrafa de Água Vaziaа",1},
{"Hambúrguer não Comestível",1},
{"Mochila de SATURNO 20",1,"Экипировать",20},
{"Mochila de ASSALTO 40",2,"Экипировать",40},
{"Mochila de Montanha 60",3,"Экипировать",60},
{"Mochila do Comandante 80",4,"Экипировать",80},
{"Mochila de Explorador 100",4,"Экипировать",100},
{"Mochila do Colorado 120",5,"Экипировать",120},
{"Mochila Brasileira 140",6,"Экипировать",140},
{"Mochila de Samurai 160",16,"Экипировать",160},
--{"Рюкзак ВОЕННЫЙ 180",18,"Экипировать",180},
--{"Рюкзак ФАРАОН 200",20,"Экипировать",200},
{"Dinheiro",0.0001},
{"Cofre",20,"Colocar Cofre"},
{"Sacos de Areia",10,"Espalhe os Sacos"},
--{"Mina",5,"Установить мину"},
{"Chapa de Aço",3},

},

["Toolbelt"] = {
{"Ôculos de Visão Noturna",1},
{"Ôculos de Infravermelho",1},
{"Mapa",1},
{"Caixa de Fósforo",1,"Colocar Fogo"},
{"GPS",1,"Ativar"},
{"Sílex",2,"Colocar Fogo"},
{"Relôgio",1},
{"GPS",1},
{"Caixa de Ferramentas",1},
{"Walkie-Talkie",1},
{"Gazua",0.005},

},
}


------------------------------------------------------------------------------



--INVENTORY
local headline = {}
local gridlistItems = {}
local buttonItems = {}


inventoryWindows =guiCreateStaticImage ( 0, 0, 0.8, 0.8,  "images/scrollmenu_1.png",true )

--inventoryWindows = guiCreateWindow(0.15, 0.28, 0.72, 0.63, "", true) 
-- inventoryWindows = guiCreateStaticImage(0.25,0.25,0.5,0.5,"images/scrollmenu_1.png",true)
guiSetAlpha(inventoryWindows,0.7)

headline["loot"] = guiCreateLabel(0.06, 0.05, 0.34, 0.09,"Conteúdo",true,inventoryWindows)
guiLabelSetHorizontalAlign (headline["loot"],"center")
guiSetFont (headline["loot"], "default-bold-small" )

headline["inventory"] = guiCreateLabel(0.60, 0.05, 0.34, 0.09,"Inventário",true,inventoryWindows)
guiLabelSetHorizontalAlign (headline["inventory"],"center")
guiSetFont (headline["inventory"], "default-bold-small" )

gridlistItems["loot"] = guiCreateGridList (0.03, 0.11, 0.39, 0.83,true,inventoryWindows)
guiGridListSetSortingEnabled ( gridlistItems["loot"], false )
gridlistItems["loot_colum"] = guiGridListAddColumn( gridlistItems["loot"], "", 0.7 )
gridlistItems["loot_colum_amount"] = guiGridListAddColumn( gridlistItems["loot"], "", 0.2 )

gridlistItems["inventory"] = guiCreateGridList (0.57, 0.11, 0.39, 0.83,true,inventoryWindows)


guiGridListSetSortingEnabled ( gridlistItems["inventory"], false )
gridlistItems["inventory_colum"] = guiGridListAddColumn( gridlistItems["inventory"], "", 0.7 )
gridlistItems["inventory_colum_amount"] = guiGridListAddColumn( gridlistItems["inventory"], "", 0.2 )

buttonItems["loot"] = guiCreateButton(0.42, 0.24, 0.06, 0.70, "->", true,inventoryWindows)
buttonItems["inventory"] = guiCreateButton(0.51, 0.24, 0.06, 0.70, "<-", true,inventoryWindows)

buttonItems["lootSpeed"] = guiCreateButton(0.42, 0.11, 0.06, 0.13, "->>", true,inventoryWindows)
buttonItems["inventorySpeed"] = guiCreateButton(0.51, 0.11, 0.06, 0.13, "<<-", true,inventoryWindows)

local substrateSlots = guiCreateStaticImage ( 0.57, 0.955, 0.39, 0.032,  "images/redPix.png",true,inventoryWindows )
substrateSlotsTop = guiCreateStaticImage ( 0, 0, 0.39, 1,  "images/redPix.png",true,substrateSlots )
guiSetAlpha(substrateSlots,0.5)
headline["slots"] = guiCreateLabel(0.62, 0.95, 0.29, 0.04,"Espaço:",true,inventoryWindows)
guiLabelSetHorizontalAlign (headline["slots"],"center")
guiLabelSetVerticalAlign (headline["slots"],"center")
guiSetFont (headline["slots"], "default-bold-small" )

local substrateLoot = guiCreateStaticImage ( 0.03, 0.955, 0.39, 0.032,  "images/redPix.png",true,inventoryWindows )
substrateLootTop = guiCreateStaticImage ( 0, 0, 0.39, 1,  "images/redPix.png",true,substrateLoot )
guiSetAlpha(substrateLoot,0.5)
headline["slots_loot"] = guiCreateLabel(0.07, 0.95, 0.29, 0.04,"Espaço:",true,inventoryWindows)
guiLabelSetHorizontalAlign (headline["slots_loot"],"center")
guiLabelSetVerticalAlign (headline["slots_loot"],"center")
guiSetFont (headline["slots_loot"], "default-bold-small" )


guiWindowSetSizable  (  inventoryWindows, false )

centerWindow(inventoryWindows)

guiSetVisible(inventoryWindows,false)


function setInvSize(size)
guiSetSize(inventoryWindows,size,size,true)
centerWindow(inventoryWindows)
end


function setProgressBar(slotsName,curSlots,maxSlots)
slotsImage = false
if slotsName == "loot" then
slotsImage = substrateLootTop
else
slotsImage = substrateSlotsTop
end

local progress = curSlots*100/maxSlots
if progress<10 then 
progress = tonumber("0.0"..math.floor(progress))
else
 progress = tonumber("0."..math.floor(progress))
end
if curSlots>=maxSlots then
progress=1
end
guiSetSize ( slotsImage, progress, 1, true )
end

function PlaySoundDayZ(pointer,stR,spR)
local soundRandom = math.random(stR or 0,spR or 1)
if pointer =="InventoryOpen" then
sound1 = playSound ( "ogg/action_open_backpack_"..soundRandom..".ogg",false)
end

if pointer =="Eat1" then 
sound1 = playSound ( "ogg/action_eat_"..soundRandom..".ogg",false)
end

if pointer =="Eat2" then 
sound1 = playSound ( "ogg/inv_eat_can_open_"..soundRandom..".ogg",false)
end

if pointer =="Soda" then 
sound1 = playSound ( "ogg/action_soda_"..soundRandom..".ogg",false)
end

if pointer =="Water" then 
sound1 = playSound ( "ogg/action_drink_"..soundRandom..".ogg",false)
end

if pointer =="Bandage" then 
sound1 = playSound ( "ogg/bandage_"..soundRandom..".ogg",false)
end

if pointer =="Painkiller" then 
sound1 = playSound ( "ogg/painkiller_"..soundRandom..".ogg",false)
end

if pointer =="Morphine" then 
sound1 = playSound ( "ogg/morphine_"..soundRandom..".ogg",false)
end

if pointer =="Bloodbag" then 
sound1 = playSound ( "ogg/bloodbag_"..soundRandom..".ogg",false)
end


if pointer =="Medkit" then 
sound1 = playSound ( "ogg/inv_medkit_"..soundRandom..".ogg",false)
end

if pointer =="RefillWaterBottle" then 
sound1 = playSound ( "ogg/action_fillwater_"..soundRandom..".ogg",false)
end

if pointer =="PitchATent" then 
sound1 = playSound ( "ogg/action_tentunpack_"..soundRandom..".ogg",false)
end

if pointer =="removeTent" then 
sound1 = playSound ( "ogg/action_tentpack_"..soundRandom..".ogg",false)
end

if pointer =="repairVehicle" then 
sound1 = playSound ( "ogg/action_repair_"..soundRandom..".ogg",false)
end

if pointer =="InventoryOUT" then 
sound1 = playSound ( "ogg/inv_OUT_"..soundRandom..".ogg",false)
end

if pointer =="InventoryIN" then 
sound1 = playSound ( "ogg/inv_IN_"..soundRandom..".ogg",false)
end

setSoundVolume(sound1, 0.3)
end


addEvent("PlaySoundDayZ",true)
addEventHandler("PlaySoundDayZ", localPlayer,PlaySoundDayZ)




function showInventory (key,keyState)
if getElementData(localPlayer,"logedin") then
if getElementData(localPlayer,"isDead") then return end
if getElementData(localPlayer,"offerExc") then return end
if getElementData(localPlayer,"exchangePartner") then return end

col = getElementData(localPlayer,"currentCol") 
if col and isElement(col) then 


if not guiGetVisible(inventoryWindows) then
	setElementData(col,"PlayerInCol",localPlayer)
	setElementData(localPlayer,"ColInPlayerdd",col)
	else
	cola = getElementData(localPlayer,"ColInPlayerdd") 
	if cola then 
	setElementData(cola,"PlayerInCol",false)
	setElementData(localPlayer,"ColInPlayerdd",false)
	end
	end





obj = getElementData(col,"parent") 
else
obj = false
end






if isElement ( obj )  and  getElementType ( obj )  ==  "vehicle" then
if isVehicleLocked ( getElementData(col,"parent") ) then
outputChatBox("Este veículo está fechado!")
return
end
end
col = getElementData(localPlayer,"currentCol") or false
if col and isElement(col) then
isSave = getElementData(col,"save")
else
isSave = false
end

if isPlayerInLoot() then
guiSetEnabled ( buttonItems["inventorySpeed"], true )
guiSetEnabled ( buttonItems["lootSpeed"], true )
else
guiSetEnabled ( buttonItems["inventorySpeed"], false )
guiSetEnabled ( buttonItems["lootSpeed"], false )
end




if not isSave then
	if ( keyState == "down" ) then
		guiSetVisible(inventoryWindows,not guiGetVisible(inventoryWindows))
		showCursor(not isCursorShowing())
		PlaySoundDayZ("InventoryOpen",0,4)
		refreshInventory()
		refreshLoot(false)
		if guiGetVisible(inventoryWindows) == true then
			onClientOpenInventoryStopMenu ()
			
		else
		
		if isPlayerInLoot() then
			local col = getElementData(localPlayer,"currentCol")
			if getElementData(col,"tent") or getElementData(col,"save") then
		setElementData(localPlayer,"CloseTent",col,false)
				
			end
		
			if getElementData(col,"vehicle") and not getElementData(col,"tent") and not getElementData(col,"NOCARSPAWN") then
			
			local parent = getElementData(col,"parent") or false
			setElementData(localPlayer,"CloseVEH",parent,false)
			end
			end
			hideRightClickInventoryMenu ()
		end
		if isPlayerInLoot() then

			local col = getElementData(localPlayer,"currentCol")
			local gearName = getElementData(localPlayer,"lootname")
			refreshLoot(col,gearName)
			end
	end
else
	if not guiGetVisible(inventoryWindows) then
	openSave(col)
	else
	
	local col = getElementData(localPlayer,"currentCol")
		if getElementData(col,"save") then
			setElementData(localPlayer,"CloseTent",col,false)
				end
				
	guiSetVisible(inventoryWindows,not guiGetVisible(inventoryWindows))
		showCursor(not isCursorShowing())
	end
	
end	
end
end
bindKey ( "j", "down", showInventory ) 
function openSave(col)

 if saveWindows and guiGetVisible (saveWindows) then 
 return
 else 
local isHackSave = getElementData(col,"hackSave") or false

if isHackSave then
refreshLoot(col,"Cofre")
showInventoryManual()
showCursor(true)
return
end

 showCursor(true) 
saveWindows = guiCreateWindow(500, 450, 200, 100, "Abrir Cofre", false) 
editBox = guiCreateEdit( 50, 40, 100, 20, "", false,saveWindows )
guiEditSetMaxLength  (  editBox, 4 )
guiEditSetMasked (  editBox, true )
    buttonOK = guiCreateButton(35, 70, 60, 20, "OK", false,saveWindows)
buttonCANCEL = guiCreateButton(110, 70, 60, 20, "Cancelar", false,saveWindows)
end


addEventHandler ( "onClientGUIClick", buttonOK,function() 
if guiGetText (editBox) == getElementData(col,"pass") then
refreshLoot(col,"Cofre")
showInventoryManual()
showCursor(true)
 guiSetVisible(saveWindows, false)
 else
 outputChatBox("Senha inválida")
 end
 end,false)
 
addEventHandler ( "onClientGUIClick", buttonCANCEL,function() 
 guiSetVisible(saveWindows, false)
 showCursor(false)

 end,false)

end
function showInventoryManual ()
if getElementData(localPlayer,"isDead") then return end
if getElementData(localPlayer,"offerExc") then return end
if getElementData(localPlayer,"exchangePartner") then return end

col = getElementData(localPlayer,"currentCol") 

if col and isElement(col)  then
local parent = getElementData(col,"parent") or false
if parent and isElement(parent) and  getElementType ( parent )  ==  "vehicle" then 
if isVehicleLocked ( getElementData(col,"parent") ) then
outputChatBox("Este veículo está fechado!")
return
end
end
end


		guiSetVisible(inventoryWindows,not guiGetVisible(inventoryWindows))
		showCursor(not isCursorShowing())
		refreshInventory()
		if guiGetVisible(inventoryWindows) == true then
			onClientOpenInventoryStopMenu ()
		end
end

function hideInventoryManual ()
		guiSetVisible(inventoryWindows,false)
		showCursor(false)
		hideRightClickInventoryMenu ()
end
addEvent("hideInventoryManual",true)
addEventHandler("hideInventoryManual",localPlayer,hideInventoryManual)

function refreshInventoryManual ()
		refreshInventory()
end
addEvent("refreshInventoryManual",true)
addEventHandler("refreshInventoryManual",localPlayer,refreshInventoryManual)

function refreshLootManual (loot)
		refreshLoot(loot)
end
addEvent("refreshLootManual",true)
addEventHandler("refreshLootManual",localPlayer,refreshLootManual)
scrollpos = 0
function refreshInventory()
if ( gridlistItems["inventory_colum"] ) then --If the column has been created, fill it with players
	row1,column1 = guiGridListGetSelectedItem ( gridlistItems["inventory"] )
	scrollpos  = guiGridListGetVerticalScrollPosition( gridlistItems["inventory"] )
			if scrollpos then
		setTimer( function()
		 guiGridListSetVerticalScrollPosition( gridlistItems["inventory"], scrollpos)
		end,50,1)
		end
	guiGridListClear(gridlistItems["inventory"])
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			--guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"ITEMS", false, false )
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Arma Principal", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			
			if getElementData(localPlayer,"currentweapon_1") == item[1] then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 0,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 0,255,0 )
				end
				
			
			end
		end
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Arma Secundario", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			
			if getElementData(localPlayer,"currentweapon_2") == item[1] then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 0,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 0,255,0 )
				end
			
			end
		end
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Armas Especiais", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			
			if getElementData(localPlayer,"currentweapon_3") == item[1] then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 0,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 0,255,0 )
				end
				
			end
		end
			local row = guiGridListAddRow ( gridlistItems["inventory"] ) 
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Munições", true, false )
		for id, item in ipairs(inventoryItems["Ammo"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Comidas & Bebidas", true, false )
		for id, item in ipairs(inventoryItems["Food"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Items", true, false )
		for id, item in ipairs(inventoryItems["Items"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
				if item[4] == getElementData(localPlayer,"MAX_Slots") then
				setElementData(localPlayer,"backPackUsed",item[1]) --server
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 255,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 255,255,0 )
				end
				if getElementData(localPlayer,"clotType_1") == item[1] then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 0,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 0,255,0 )
				end
				
				if getElementData(localPlayer,"clotType_2") == item[1] then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 0,255,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 0,255,0 )
				end
			end
		end
			local row = guiGridListAddRow ( gridlistItems["inventory"] )
			guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],"Ferramentas", true, false )
		for id, item in ipairs(inventoryItems["Toolbelt"]) do
			if getElementData(localPlayer,item[1]) and (getElementData(localPlayer,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["inventory"] )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"],getElementData(localPlayer,item[1]), false, false )
			local GPSpharos = getElementData(localPlayer,"GPSpharos") or false
				if GPSpharos and item[1]=="GPS" then
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum"], 255,0,0 )
				guiGridListSetItemColor ( gridlistItems["inventory"], row, gridlistItems["inventory_colum_amount"], 255,0,0 )
				end
			end
		end
		if row1 and column1 then
			guiGridListSetSelectedItem ( gridlistItems["inventory"], row1,column1)
		end

		
		local enginerSlots = getElementData(localPlayer,"progress.enginer") or 0
		local attackerSlots = getElementData(localPlayer,"progress.attacker") or 0
		
		local curSlots = getPlayerCurrentSlots() 
		local maxSlots = getPlayerMaxAviableSlots()
		local maxSlotsReal = maxSlots+math.floor((enginerSlots+attackerSlots)*0.2)
		setProgressBar("slots",curSlots,maxSlotsReal)
		guiSetText(headline["slots"],"Espaço: "..curSlots.."/"..maxSlots.."+"..math.floor((enginerSlots+attackerSlots)*0.2).."")
	end
end


scrollpos2 =false
function refreshLoot(loot,gearName)
if getElementData(localPlayer,"inArena") then  return  end
if loot == false or not isElement(loot) then
	guiGridListClear(gridlistItems["loot"])
	guiSetText(headline["loot"],"Vazio")
	guiSetText(headline["slots_loot"],"Espaço: 0/0")
	setProgressBar("loot",0,0)
	return
end



if ( gridlistItems["loot_colum"] ) then
	row2,column2 = guiGridListGetSelectedItem ( gridlistItems["loot"] )
		scrollpos2  = guiGridListGetVerticalScrollPosition( gridlistItems["loot"] )
	guiGridListClear(gridlistItems["loot"])
	if gearName then
		guiSetText(headline["loot"],gearName)
	end	
	
			if scrollpos2 then
		setTimer( function()
		 guiGridListSetVerticalScrollPosition( gridlistItems["loot"], scrollpos2)
		end,50,1)
		end
		
			local row = guiGridListAddRow ( gridlistItems["loot"] )
			--guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Weapons", true, false )
			local row = guiGridListAddRow ( gridlistItems["loot"] )
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Arma Principal", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end
				local row = guiGridListAddRow ( gridlistItems["loot"] )
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Arma Secundario", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["loot"] )
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Armas Especiais", true, false )
		for id, item in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["loot"] ) 
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Munições", true, false )
		for id, item in ipairs(inventoryItems["Ammo"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["loot"] ) 
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Comidas & Bebidas", true, false )
		for id, item in ipairs(inventoryItems["Food"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end 
			local row = guiGridListAddRow ( gridlistItems["loot"] ) 
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Items", true, false )
		for id, item in ipairs(inventoryItems["Items"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end
			local row = guiGridListAddRow ( gridlistItems["loot"] )
			guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],"Ferramentas", true, false )
		for id, item in ipairs(inventoryItems["Toolbelt"]) do
			if getElementData(loot,item[1]) and (getElementData(loot,item[1]) or 0) >= 1 then
				local row = guiGridListAddRow ( gridlistItems["loot"] )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum"],item[1], false, false )
				guiGridListSetItemText ( gridlistItems["loot"], row, gridlistItems["loot_colum_amount"],getElementData(loot,item[1]), false, false )
			end
		end

		if row2 and column2 then
			guiGridListSetSelectedItem ( gridlistItems["loot"], row2,column2)
		end
		
		local curSlots = getLootCurrentSlots(loot)
		local maxSlots = getLootMaxAviableSlots(loot)or 0
		setProgressBar("loot",curSlots,maxSlots)
		
		guiSetText(headline["slots_loot"],"Espaço: "..curSlots.."/"..maxSlots)
	end
end


function getPlayerMaxAviableSlots()
return getElementData(localPlayer,"MAX_Slots")
end

function getLootMaxAviableSlots(loot)
return getElementData(loot,"MAX_Slots")
end
function PlusSlots()
local enginerSlots = getElementData(localPlayer,"progress.enginer") or 0
local attackerSlots = getElementData(localPlayer,"progress.attacker") or 0
return math.floor((enginerSlots+attackerSlots)*0.2)
end

function getPlayerCurrentSlots()
local current_SLOTS = 0

local curWeapon1 = getElementData(localPlayer,"currentweapon_1")  or "none"
local curWeapon2 = getElementData(localPlayer,"currentweapon_2")  or "none"
local curWeapon3 = getElementData(localPlayer,"currentweapon_3")  or "none"
		
	for id, item in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
		if itemInInv and itemInInv >= 1 then
			if item[1] ==curWeapon1 then
				current_SLOTS = current_SLOTS + (item[2]*(itemInInv-1))
				else
				current_SLOTS = current_SLOTS + (item[2]*itemInInv)
			end
		end
	end
	for id, item in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
		if itemInInv and itemInInv >= 1 then
			if item[1] ==curWeapon2 then
				current_SLOTS = current_SLOTS + (item[2]*(itemInInv-1))
				else
				current_SLOTS = current_SLOTS + (item[2]*itemInInv)
			end
		end
	end
	for id, item in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
		if itemInInv and itemInInv >= 1 then
			if item[1] ==curWeapon3 then
				current_SLOTS = current_SLOTS + (item[2]*(itemInInv-1))
				else
				current_SLOTS = current_SLOTS + (item[2]*itemInInv)
			end
		end
	end
	for id, item in ipairs(inventoryItems["Ammo"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
		if itemInInv and itemInInv >= 1 then
			current_SLOTS = current_SLOTS + (item[2]*itemInInv)
		end
	end
	for id, item in ipairs(inventoryItems["Food"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
		if itemInInv and itemInInv >= 1 then
			current_SLOTS = current_SLOTS + (item[2]*itemInInv)
		end
	end
	
	local backPackUsed = getElementData(localPlayer,"backPackUsed")  or "none"
	local clotType1 = getElementData(localPlayer,"clotType_1")  or "none"
	local clotType2 = getElementData(localPlayer,"clotType_2")  or "none"
	
	for id, item in ipairs(inventoryItems["Items"]) do
	local itemInInv = getElementData(localPlayer,item[1]) or false
	
		if itemInInv and itemInInv >= 1 then
		if item[1] ==backPackUsed  or item[1] ==clotType1 or item[1] ==clotType2 then
		current_SLOTS = current_SLOTS + (item[2]*(itemInInv-1))
		else
		current_SLOTS = current_SLOTS + (item[2]*itemInInv)
		end
		
			
		end
	end
	
		setElementData(localPlayer,"current_SLOTS",math.floor(current_SLOTS)) --server
	return math.floor(current_SLOTS)
end




function getLootCurrentSlots(loot)
if not isElement(loot) then return 0 end
local current_SLOTS = 0
	for id, item in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot >= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	for id, item in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot>= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	for id, item in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot >= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	for id, item in ipairs(inventoryItems["Ammo"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot >= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	for id, item in ipairs(inventoryItems["Food"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot >= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	for id, item in ipairs(inventoryItems["Items"]) do
	local itemInLoot = getElementData(loot,item[1]) or false
		if itemInLoot and itemInLoot >= 1 then
			current_SLOTS = current_SLOTS + item[2]*itemInLoot
		end
	end
	return math.floor(current_SLOTS)

end

function getItemSlots(itema)
local current_SLOTS = 0
	for id, item in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
		if itema == item[1] then 
			return item[2]
		end
	end	
	for id, item in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
		if itema == item[1] then 
			return item[2]
		end
	end	
	for id, item in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
		if itema == item[1] then 
			return item[2]
		end
	end
	
	for id, item in ipairs(weaponAmmoTable["Weapons"]) do
		if itema == item[3] then 
		local aboima = item[5]
			for id, item in ipairs(inventoryItems["Ammo"]) do
		if itema == item[1] then 
			return item[2]*aboima
		end
	end
		end
	end
		for id, item in ipairs(weaponAmmoTable["others"]) do
		if item[3] then
		if itema == item[3] then 
		local aboima = item[5]
			for id, item in ipairs(inventoryItems["Ammo"]) do
		if itema == item[1] then 
			return item[2]*aboima
		end
	end
		end
		end
	end
	for id, item in ipairs(inventoryItems["Food"]) do
		if itema == item[1] then 
			return item[2]
		end
	end
	for id, item in ipairs(inventoryItems["Items"]) do
		if itema == item[1] then 
			return item[2]
		end
	end
		for id, item in ipairs(inventoryItems["Toolbelt"]) do
		if itema == item[1] then 
			return 0
		end
	end	
	return false
end

function isToolbeltItem(itema)
local current_SLOTS = 0
	for id, item in ipairs(inventoryItems["Toolbelt"]) do
		if itema == item[1] then 
			return true
		end
	end	
	return false
end





--OTHER ITEM STUFF


cancelBtnFlood = false
function onPlayerMoveItemOutOfInventory (all)
playerInCol = getElementData(isPlayerInLoot(),"PlayerInCol")
if playerInCol then
if getElementType(playerInCol) == "player" then
if playerInCol ~= localPlayer then
return
end
end
end

if all == nil then 
all=false
end

local itemName = guiGridListGetItemText ( gridlistItems["inventory"], guiGridListGetSelectedItem ( gridlistItems["inventory"] ), 1 )

if not itemName  or itemName =='' or itemName ==" " then
return
end
if gameplayVariables["checkBTNFLOOD"] then
if cancelBtnFlood then
startRollMessage2("Inventário", "Não pressione com muita Frequência!", 255, 0, 0 )
return
end
cancelBtnFlood = true
setTimer( function()
cancelBtnFlood = false
end,gameplayVariables["checkBTNtimer"],1)
end
if all then 

 plus = getElementData(localPlayer,itemName) or 1
 
 	for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
				if itemName == weaponData[3] then
				plus = math.floor(plus/weaponData[5]) 
				break
				end
			end 
			for i,weaponData in ipairs(weaponAmmoTable["others"]) do
			if weaponData[3] then
				if itemName == weaponData[3] then
				plus = math.floor(plus/weaponData[5]) 
				break
				end
				end
			end 
else
 plus = 1
end

	if getElementData(localPlayer,itemName) and (getElementData(localPlayer,itemName) or 0) >= plus then
		if isPlayerInLoot() then
			local isVehicle = getElementData(isPlayerInLoot(),"vehicle")
			local isTent = getElementData(isPlayerInLoot(),"tent")
			if isVehicle and not isTent then
				local veh = getElementData(isPlayerInLoot(),"parent")
		local needtires = getElementData(veh,"needtires")
		local needengines= getElementData(veh,"needengines")
				if itemName == "Pneu" and (getElementData(isPlayerInLoot(),"Pneu_inVehicle") or 0) < needtires  or itemName == "Motor" and (getElementData(isPlayerInLoot(),"Motor_inVehicle") or 0)  < needengines then
					
					local progressEnginer = getElementData(localPlayer,"progress.enginer") or 0
					if progressEnginer <20 and (getElementData(localPlayer,"Caixa de Ferramentas") or 0)	<=0 then 
					outputChatBox("Você não tem ferramentas") 
					return 
					end
					
					triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName.."_inVehicle",isPlayerInLoot())
					local Vehicle = getElementData(isPlayerInLoot(),"parent")
		triggerServerEvent("setWheelStates2",localPlayer,Vehicle,getElementData(isPlayerInLoot(),"Pneu_inVehicle"),"-")

				elseif isToolbeltItem(itemName) then
					triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)

				elseif getLootCurrentSlots(isPlayerInLoot()) + (getItemSlots(itemName)*plus) <= getLootMaxAviableSlots(isPlayerInLoot()) then
					triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)

				else

					startRollMessage2("Inventário", "Этот предмет весит "..(getItemSlots(itemName)*plus).."кг!", 255, 0, 0 )
					return
				end
			elseif isToolbeltItem(itemName) then
					triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)	

			elseif getLootCurrentSlots(isPlayerInLoot()) + (getItemSlots(itemName)*plus) <= getLootMaxAviableSlots(isPlayerInLoot()) then
				triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)

			else
			for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
				if itemName == weaponData[3] then
				plus = weaponData[5] 
				break
				end
			end	
			
					for i,weaponData in ipairs(weaponAmmoTable["others"]) do
			if weaponData[3] then
				if itemName == weaponData[3] then
				plus = weaponData[5]
				break
				end
				end
			end 
			

				startRollMessage2("Inventário", "Этот предмет весит "..getItemSlots(itemName)*plus.."кг!", 255, 0, 0 )
				return
			end	
		else
			triggerEvent("onPlayerMoveItemOutOFInventoryFunc",localPlayer,itemName,isPlayerInLoot())

		end	
	end
	local gearName = guiGetText(headline["loot"])
	local col = getElementData(localPlayer,"currentCol")
	setTimer(refreshInventory,200,1)
	if isPlayerInLoot() then
		setTimer(refreshLoot,200,1,col,gearName)
	end
end
addEventHandler ( "onClientGUIClick", buttonItems["inventory"], function() 
local networkStatus = getElementData(localPlayer,"networkStatus",false) or false
if networkStatus then
startRollMessage2("Inventário", "Ping excede a Normal!", 255, 22, 0 )
return
end
onPlayerMoveItemOutOfInventory(false) 

end,false )




addEventHandler ( "onClientGUIClick", buttonItems["inventorySpeed"], function() 
local networkStatus = getElementData(localPlayer,"networkStatus",false) or false
if networkStatus then
startRollMessage2("Inventário", "Ping excede a Normal!", 255, 22, 0 )
return
end
onPlayerMoveItemOutOfInventory(true)

end,false )


function onPlayerMoveItemOutOFInventoryFunc (itemName,loot,all)

			if all then
			itemPlus =  getElementData(localPlayer,itemName) or 0
			else
			itemPlus = 1
			end

local isAmmo = false
for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
if not all then 
		if itemName == weaponData[3] then
			itemPlus = weaponData[5] 
			isAmmo = true
		break
	end
else
itemPlus =  getElementData(localPlayer,itemName) or 0
	end
		if itemName == weaponData[1] then
			triggerServerEvent("removeBackWeaponOnDrop",localPlayer)
			break
	end
end	
for i,weaponData in ipairs(weaponAmmoTable["others"]) do
if not all then 
if weaponData[3] then
		if itemName == weaponData[3] then
			itemPlus = weaponData[5] 
			isAmmo = true
		break
	end
	end
else
itemPlus =  getElementData(localPlayer,itemName) or 0
	end
		if itemName == weaponData[1] then
			triggerServerEvent("removeBackWeaponOnDrop",localPlayer)
			break
	end
end	

	if itemPlus > (getElementData(localPlayer,itemName) or 0) then
			itemPlus = getElementData(localPlayer,itemName) or 0
		end

if itemName == "Pneu_inVehicle" then itemPlus = 1 end
if itemName == "Motor_inVehicle" then itemPlus = 1 end
--if (getElementData(localPlayer,itemName2) or 0)/itemPlus < 1 then
--	triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora!",255,22,0)
--return
--end

if itemName=="Vestuário: Bandido 1 nível" or itemName=="Vestuário: Bandido nível 2" or itemName=="Vestuário: Bandido nível 3" or itemName=="Vestuário: Bandido nível 4" or itemName=="Vestuário: Bandido nível 5" or itemName=="Vestuário: Hero"  then
	triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora!",255,22,0)
return
end


if getElementData(localPlayer,"backPackUsed") == itemName then
if (getElementData(localPlayer,itemName) or 0) <= 1 or all then
triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora Mochila sendo usada!",255,22,0)
return
end
end

if itemName =="GPS" and getElementData(localPlayer,"GPSpharos")  then
if (getElementData(localPlayer,itemName) or 0) <= 1 or all then
triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora GPS ativado!",255,22,0)
return
end
end


if getElementData(localPlayer,"clotType_1") == itemName then
if (getElementData(localPlayer,itemName) or 0) <= 1 or all then
triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora coisa usada!",255,22,0)
return
end
end

if getElementData(localPlayer,"clotType_2") == itemName then
if (getElementData(localPlayer,itemName) or 0) <= 1 or all then
triggerEvent ("displayClientInfo", localPlayer,"Inventário","Não pode ser jogado fora coisa usada!",255,22,0)
return
end
end


	if loot then

		local players = getElementsWithinColShape (loot,"player")
			if #players > 1 then
				triggerServerEvent("onPlayerChangeLoot",getRootElement(),loot)
			else

		if itemName == "Dinheiro" and not all then
		
		local moneyIninvv = getElementData(localPlayer,"Dinheiro") or 0
		if moneyIninvv >=10000 then
		itemPlus =10000
		elseif  moneyIninvv >=5000 then
		itemPlus =5000
		elseif  moneyIninvv >=1000 then
		itemPlus =1000
		elseif  moneyIninvv >=500 then
		itemPlus =500	
		elseif  moneyIninvv >=100 then
		itemPlus =100
		elseif  moneyIninvv >=50 then
		itemPlus =50
		elseif  moneyIninvv >=10 then
		itemPlus =10
		elseif  moneyIninvv <=9 then
		itemPlus =1
		end
		setElementData(loot,itemName,(getElementData(loot,itemName) or 0)+itemPlus) --server
		else
		setElementData(loot,itemName,(getElementData(loot,itemName) or 0)+itemPlus) --server
		end
		

	
		PlaySoundDayZ("InventoryOUT",0,0)
			
			end	

	else
	PlaySoundDayZ("InventoryOUT",0,0)
	if isAmmo then
	triggerServerEvent("playerDropAItem",localPlayer,itemName,itemPlus)
	else
		triggerServerEvent("playerDropAItem",localPlayer,itemName,false)
	end
	end
	if itemName == "Pneu_inVehicle" then itemName = "Pneu" end
	if itemName == "Motor_inVehicle" then itemName = "Motor" end
	
	setElementData(localPlayer,itemName,(getElementData(localPlayer,itemName) or 0)-itemPlus) --server
	if loot and getElementData(loot,"itemloot") then
		triggerServerEvent("refreshItemLoot",getRootElement(),loot,getElementData(loot,"parent"))
	end
end
addEvent( "onPlayerMoveItemOutOFInventoryFunc", true )
addEventHandler( "onPlayerMoveItemOutOFInventoryFunc", getRootElement(), onPlayerMoveItemOutOFInventoryFunc )








cancelBtnFlood2= false
function onPlayerMoveItemInInventory (all)
playerInCol = getElementData(isPlayerInLoot(),"PlayerInCol")
if playerInCol then
if getElementType(playerInCol) == "player" then
if playerInCol ~= localPlayer then
return
end
end
end

if all == nil then 
all=false
end
local itemName = guiGridListGetItemText ( gridlistItems["loot"], guiGridListGetSelectedItem ( gridlistItems["loot"] ), 1 )
if not itemName  or itemName =='' or itemName ==" " then
return
end

if gameplayVariables["checkBTNFLOOD"] then
if cancelBtnFlood2 then
startRollMessage2("Inventário", "Não pressione com muita Frequência!", 255, 0, 0 )
return
end
cancelBtnFlood2 = true
setTimer( function()
cancelBtnFlood2 = false
end,gameplayVariables["checkBTNtimer"],1)
end



if all then 

 plus = getElementData(isPlayerInLoot(),itemName) or 1 -- ВОЗМОЖЕН ДЮП !!
 
 	for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
				if itemName == weaponData[3] then
				plus = math.floor(plus/weaponData[5]) 
				break
				end
			end 
			 	for i,weaponData in ipairs(weaponAmmoTable["others"]) do
				if weaponData[3] then
				if itemName == weaponData[3] then
				plus = math.floor(plus/weaponData[5]) 
				break
				end
				end
			end 
else
 plus = 1
end

if isPlayerInLoot() then
	if getElementData(isPlayerInLoot(),itemName) and (getElementData(isPlayerInLoot(),itemName) or 0) >= plus then
		if not isToolbeltItem(itemName) then
			if getPlayerCurrentSlots() + (getItemSlots(itemName)*plus) <= (getPlayerMaxAviableSlots()+PlusSlots()) then
			triggerEvent("onPlayerMoveItemInInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)
			else
				startRollMessage2("Inventário", "Этот предмет весит "..getItemSlots(itemName)*plus.."кг!", 255, 0, 0 )
				return
			end
		else
			triggerEvent("onPlayerMoveItemInInventoryFunc",localPlayer,itemName,isPlayerInLoot(),all)
		end
	end
	if isPlayerInLoot() then
		local gearName = guiGetText(headline["loot"])
		local col = getElementData(localPlayer,"currentCol")
		setTimer(refreshInventory,200,1)
		setTimer(refreshLoot,200,1,col,gearName)
	end
end	
end
addEventHandler ( "onClientGUIClick", buttonItems["loot"], function()
local networkStatus = getElementData(localPlayer,"networkStatus",false) or false
if networkStatus then
startRollMessage2("Inventário", "Ping excede a Normal!", 255, 22, 0 )
return
end
onPlayerMoveItemInInventory(false) 

end,false )


addEventHandler ( "onClientGUIClick", buttonItems["lootSpeed"], function()
local networkStatus = getElementData(localPlayer,"networkStatus",false) or false
if networkStatus then
startRollMessage2("Inventário", "Ping excede a Normal!", 255, 22, 0 )
return
end
onPlayerMoveItemInInventory(true) 

end,false )


function onPlayerMoveItemInInventoryFunc (itemName,loot,all)
			if all then
			itemPlus =  getElementData(localPlayer,itemName) or 0
			else
			itemPlus = 1
			end
			
for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
if not all then 
		if itemName == weaponData[3] then
			itemPlus = weaponData[5] 
			isAmmo = true
		break
	end
else
itemPlus =  getElementData(loot,itemName) or 0
	end
end
for i,weaponData in ipairs(weaponAmmoTable["others"]) do
if not all then 
if weaponData[3] then
		if itemName == weaponData[3] then
			itemPlus = weaponData[5] 
			isAmmo = true
		break
	end
	end
else
itemPlus =  getElementData(loot,itemName) or 0
	end
end

	if loot then
		if itemPlus > (getElementData(loot,itemName) or 0) then
			itemPlus = getElementData(loot,itemName) 
		end
	

	--	if getNetworkStats().packetlossLastSecond > 3 or getNetworkStats().messagesInResendBuffer >10 then
	--	startRollMessage2("Inventário", "Ping excede a Normal!", 255, 22, 0 )
	--	return
	--	end
	
			local players = getElementsWithinColShape (loot,"player")
			if #players > 1 then
				triggerServerEvent("onPlayerChangeLoot",getRootElement(),loot)
			else
if itemName == "Dinheiro" and not all then
		
		local moneyIninvv = getElementData(loot,"Dinheiro") or 0
		if moneyIninvv >=10000 then
		itemPlus =10000
		elseif  moneyIninvv >=5000 then
		itemPlus =5000
		elseif  moneyIninvv >=1000 then
		itemPlus =1000
		elseif  moneyIninvv >=500 then
		itemPlus =500
		elseif  moneyIninvv >=100 then
		itemPlus =100
		elseif  moneyIninvv >=50 then
		itemPlus =50
		elseif  moneyIninvv >=10 then
		itemPlus =10
		elseif  moneyIninvv <=9 then
		itemPlus =1
		end
		setElementData(localPlayer,itemName,(getElementData(localPlayer,itemName) or 0)+itemPlus)  --server
		else
		setElementData(localPlayer,itemName,(getElementData(localPlayer,itemName) or 0)+itemPlus)  --server
		end
		setElementData(loot,itemName,getElementData(loot,itemName)-itemPlus) --server

		
				PlaySoundDayZ("InventoryIN",0,0)
		
			
			end
	end
	if getElementData(loot,"itemloot") then
		triggerServerEvent("refreshItemLoot",getRootElement(),loot,getElementData(loot,"parent"))
	end
end
addEvent( "onPlayerMoveItemInInventoryFunc", true )
addEventHandler( "onPlayerMoveItemInInventoryFunc", getRootElement(), onPlayerMoveItemInInventoryFunc )

function onClientOpenInventoryStopMenu ()
triggerEvent("disableMenu",localPlayer)
end

function isPlayerInLoot()

if getElementData(localPlayer,"loot") then
local col = getElementData(localPlayer,"currentCol") or false
if col and isElement(col) then
	return col
	end
end
return false
end


------------------------------------------------------------------------------
--right-click menu
function onPlayerPressRightKeyInInventory (key,keyState,double)

local itemName = guiGridListGetItemText ( gridlistItems["inventory"], guiGridListGetSelectedItem ( gridlistItems["inventory"] ), 1 )
if itemName and itemName~=nil then
local itemName,itemInfo,itemData = getInventoryInfosForRightClickMenu(itemName)
	if isCursorShowing() and guiGetVisible(inventoryWindows) and itemInfo then
		if itemName == "Caixa de Fósforo" then
			if (getElementData(localPlayer,"Lenha") or 0) == 0 then
				return
			end
		end
		if itemName == "Ataduras" then
			if (getElementData(localPlayer,"bleeding") or 0) == 0 then
				return
			end
		end	
		if itemName == "Kit de Primeiros Socorros" then
			if getElementData(localPlayer,"blood") > 10500 then
				return
			end
		end	
		--[[
		if itemName == "Pacote de Calor" then
			if getElementData(localPlayer,"temperature") > 35 then
				return
			end
		end	
		]]
		if itemName == "Analgésico" then
			if not getElementData(localPlayer,"pain") then
				return
			end
		end	
		if itemName == "Morfina" then
			if not getElementData(localPlayer,"brokenbone") then
				return
			end
		end	
		if itemName == "Antibiótico" then
			if not getElementData(localPlayer,"infection") then
				return
			end
		end	
	
		if itemName == "Bolsa de Sangue" then
			local progressMedik = getElementData(localPlayer,"progress.medik") or 0
				if progressMedik <100 then
				return
			end
		end
		if double then
		playerUseItem(itemName,itemInfo,itemData)
		else
		showRightClickInventoryMenu (itemName,itemInfo,itemData)
		end
	end
	end
end
bindKey("mouse2","down",onPlayerPressRightKeyInInventory)

function getInventoryInfosForRightClickMenu(itemName)
for i,itemInfo in ipairs(inventoryItems["Weapons"]["Primary Weapon"]) do
	if itemName == itemInfo[1] then
		return itemName,"Взять Arma Principal"
	end	
end
for i,itemInfo in ipairs(inventoryItems["Weapons"]["Secondary Weapon"]) do
	if itemName == itemInfo[1] then
		return itemName,"Взять Arma Secundario"
	end	
end
for i,itemInfo in ipairs(inventoryItems["Weapons"]["Specially Weapon"]) do
	if itemName == itemInfo[1] then
		return itemName,"Взять Armas Especiais"
	end	
end
for i,itemInfo in ipairs(inventoryItems["Ammo"]) do
	if itemName == itemInfo[1] then
		return itemName,false
	end	
end
for i,itemInfo in ipairs(inventoryItems["Food"]) do
	if itemName == itemInfo[1] then
		if itemInfo[1] == "Garrafa de Água Completo" or itemInfo[1] == "Coca-Cola" or itemInfo[1] == "Garrafa de Água Com Gás Completo" then
			info = "Выпить"
		else
			info = "Cъесть"
		end
		return itemName,info
	end	
end
for i,itemInfo in ipairs(inventoryItems["Items"]) do
	if itemName == itemInfo[1] then
		
		if itemInfo[4] then
		if getElementData(localPlayer,"clotType_1") == itemName or getElementData(localPlayer,"clotType_2") == itemName then
		return itemName,"Снять" or false,itemInfo[4] or false
		end
		
		return itemName,itemInfo[3] or false,itemInfo[4] or false
		else
		return itemName,itemInfo[3] or false
		end
	end	
end
for i,itemInfo in ipairs(inventoryItems["Toolbelt"]) do
	if itemName == itemInfo[1] then
		if itemName=="GPS" then
		local GPSpharos = getElementData(localPlayer,"GPSpharos") or false
		if GPSpharos then
		return itemName,"ДеAtivar" or false
		else
		return itemName,itemInfo[3] or false
		end
		
		else
		return itemName,itemInfo[3] or false
		end
	end
end
end


addEventHandler("onClientResourceStart", getResourceRootElement(getThisResource()), 
	function ()
headline["rightclickWindow"] = guiCreateStaticImage(0,0,0.05,0.0215,"images/scrollmenu_1.png",true)
headline["rightclickmenu"] = guiCreateLabel(0,0,1,1,"",true,headline["rightclickWindow"])
guiLabelSetHorizontalAlign (headline["rightclickmenu"],"center")
guiLabelSetVerticalAlign (headline["rightclickmenu"],"center")
guiSetFont (headline["rightclickmenu"], "default-bold-small" )
guiSetVisible(headline["rightclickWindow"],false)
addEventHandler("onClientGUIClick",headline["rightclickmenu"],onPlayerClickOnRightClickMenu,false)
	end
)



function showRightClickInventoryMenu (itemName,itemInfo,itemData)
	if itemInfo then
		local screenx, screeny, worldx, worldy, worldz = getCursorPosition()
		guiSetVisible(headline["rightclickWindow"],true)
		guiSetText(headline["rightclickmenu"],itemInfo)
		local whith = guiLabelGetTextExtent (headline["rightclickmenu"])
		guiSetPosition(headline["rightclickWindow"],screenx,screeny,true)
		local x,y = guiGetSize(headline["rightclickWindow"],false)
		guiSetSize(headline["rightclickWindow"],whith,y,false)
		guiBringToFront(headline["rightclickWindow"])
		setElementData(headline["rightclickWindow"],"iteminfo",{itemName,itemInfo,itemData},false)
	end
end

function hideRightClickInventoryMenu ()
	guiSetVisible(headline["rightclickWindow"],false)
end


function onPlayerClickOnRightClickMenu (button,state)
    if button == "left" then
        local itemName,itemInfo,itemData = getElementData(headline["rightclickWindow"],"iteminfo")[1],getElementData(headline["rightclickWindow"],"iteminfo")[2],getElementData(headline["rightclickWindow"],"iteminfo")[3]
		hideRightClickInventoryMenu ()
		playerUseItem(itemName,itemInfo,itemData)
    end
end


function doubleClicked(butt)
if butt =="left" then


onPlayerPressRightKeyInInventory (false,false,true)


end
end
addEventHandler( "onClientGUIDoubleClick", gridlistItems["inventory"], doubleClicked, false )



local playerFire = {}
local fireCounter = 0
function playerUseItem(itemName,itemInfo,itemData)
hideRightClickInventoryMenu ()
if (getElementData(localPlayer,itemName) or 0) <=0 then 
return
end
local isOnGround = isPedOnGround(localPlayer)
	if itemInfo == "Выпить" then
		triggerServerEvent("onPlayerRequestChangingStats",localPlayer,itemName,itemInfo,"thirst")
		
		if  itemName == "Garrafa de Água Com Gás Completo" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Water",0,0)
		elseif itemName == "Coca-Cola"  then
		triggerEvent("PlaySoundDayZ",localPlayer,"Soda",0,2)
		elseif itemName == "Garrafa de Água Completo"  then
		triggerEvent("PlaySoundDayZ",localPlayer,"Water",0,0)
		end
		
	elseif itemInfo == "Cъесть" then
		triggerServerEvent("onPlayerRequestChangingStats",localPlayer,itemName,itemInfo,"food")

	if itemName == "Hambúrguer" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat1",0,1)
	elseif itemName == "Pizza" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat1",0,1)
	elseif itemName == "Carne Grelhada" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat1",2,3)
	elseif itemName == "Peixe Frito" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat1",2,3)
	elseif itemName == "Lata de Feijão" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat2",0,0)
	elseif itemName == "Lata de Macarrão" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Eat2",0,0)
	end

		
	elseif itemInfo == "Vestir-se" then
	local skinChng = getElementData(localPlayer,itemName)
	if skinChng and skinChng>=1 then
	
	if isOnGround then
		triggerServerEvent("onPlayerChangeSkin",localPlayer,itemName,itemData)
		end
	end
	elseif itemName == "Garrafa de Água Vazia" then
		triggerServerEvent("onPlayerRefillWaterBottle",localPlayer,itemName)
		
	elseif itemName == "Tenda" then
	
		if isOnGround then
			triggerServerEvent("onPlayerPitchATent",localPlayer,itemName)
			triggerEvent("PlaySoundDayZ",localPlayer,"PitchATent",0,0)
		end
		
	elseif itemName == "Tenda Grande" then
		if isOnGround then
			triggerServerEvent("onPlayerPitchABigTent",localPlayer,itemName)
			triggerEvent("PlaySoundDayZ",localPlayer,"PitchATent",0,0)
		end
	elseif itemName == "Caixa Enorme" then
		if isOnGround then
			triggerServerEvent("onPlayerPitchADMINTent",localPlayer,itemName)
			triggerEvent("PlaySoundDayZ",localPlayer,"PitchATent",0,0)
		end
		
	elseif itemInfo == "Поставить колючую проволку"	then
	if isOnGround then
		triggerServerEvent("onPlayerBuildAWireFence",localPlayer,itemName)
		end
	elseif itemName == "Sinal de Fogo" then
		triggerServerEvent("onPlayerPlaceRoadflare",localPlayer,itemName)	
	elseif itemInfo == "Colocar Fogo" then
if (getElementData(localPlayer,"Lenha") or 0) <=0 then 
return
end	
		triggerServerEvent("onPlayerMakeAFire",localPlayer,itemName)	
	elseif itemInfo == "Usar" then
	if isOnGround then
		triggerServerEvent("onPlayerUseMedicObject",localPlayer,itemName)	
		
		if itemName == "Ataduras" then
	triggerEvent("PlaySoundDayZ",localPlayer,"Bandage",0,3)
			elseif itemName == "Kit de Primeiros Socorros" then
	triggerEvent("PlaySoundDayZ",localPlayer,"Medkit",0,0)
		--elseif itemName == "Pacote de Calor" then
--triggerEvent("PlaySoundDayZ",localPlayer,"Medkit",0,0)	
		elseif itemName == "Analgésico" then
	triggerEvent("PlaySoundDayZ",localPlayer,"Painkiller",0,3)
		elseif itemName == "Morfina" then
triggerEvent("PlaySoundDayZ",localPlayer,"Morphine",0,0)
		elseif itemName == "Antibiótico" then
		triggerEvent("PlaySoundDayZ",localPlayer,"Morphine",0,0)

		elseif itemName == "Bolsa de Sangue" then
	triggerEvent("PlaySoundDayZ",localPlayer,"Bloodbag",0,0)
		end
		end
		
		
	elseif itemInfo == "Взять Arma Principal" then
		triggerServerEvent("onPlayerRearmWeapon",localPlayer,itemName,1)
	elseif itemInfo == "Взять Arma Secundario" then
		triggerServerEvent("onPlayerRearmWeapon",localPlayer,itemName,2)
	elseif itemInfo == "Взять Armas Especiais" then
		triggerServerEvent("onPlayerRearmWeapon",localPlayer,itemName,3)
	elseif itemInfo == "Экипировать" then
		equipBackPack(itemName,itemInfo,itemData)
	elseif itemInfo == "Colocar Cofre"	then
		onSave(itemName)
	elseif itemInfo == "Espalhe os Sacos" then
	if isOnGround then
		triggerServerEvent("onPlayerBuildASandBags",localPlayer,itemName)
		end
	elseif itemInfo == "Установить мину" then
		triggerServerEvent("onPlayerBuildAMine",localPlayer,itemName)
	elseif itemInfo == "Abrir Ração Seca Grande" then
		SyxPay(itemName,1)
	elseif itemInfo == "Abrir Ração Seca Pequena" then
		SyxPay(itemName,2)
	elseif itemInfo == "Colocar" then
		ClotElement(itemName,itemData)
	elseif itemInfo == "Снять" then
		triggerServerEvent("clotElementDel",localPlayer,itemData[1])
	elseif itemInfo == "Ativar" then
	local mayakGPS = getElementData(localPlayer,"GPS") or false
	if mayakGPS and mayakGPS>=1 then
		setElementData(localPlayer,"GPSpharos",true)
		triggerServerEvent("outputChatBoxMESSAGE",localPlayer,"#FF0000"..getPlayerName(localPlayer).."#FF0000 активировал GPS!",255,0,0)
	end
	elseif itemInfo == "ДеAtivar" then
		triggerServerEvent("outputChatBoxMESSAGE",localPlayer,"#FF0000"..getPlayerName(localPlayer).."#FF0000 деактивировал GPS!",255,0,0)
		
		local mayakGPS = getElementData(localPlayer,"GPS")  or 0
		setElementData(localPlayer,"GPS",mayakGPS-1)
		setElementData(localPlayer,"GPSpharos",false)
	
		
		
	end
hideInventoryManual ()
end



local clotTable={


{288,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{286,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{285,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{284,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{283,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{282,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{281,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{276,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{280,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},

{279,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0.02,0,0.06,5,-90,5,size =1},
{3,2020,"Colete 20%", 0, 0.01, -0.54, 0, 0, 95,size=1},
{3,2396,"Colete 10%",0,0.06,0.07,0,-93,5,size =1}}},
--[[
{176,{{1,2394,"Capacete Militar 50%",0,0,-0.560,1.5,4.5,94, size = 1,profit=50},

{1,1755,"Capacete de Motocicleta 10%",0,0,-0.640,1.5,3.1,94, size = 1,profit=10},
{1,2015,"Máscara de Soldador 10%",0,0,-0.620,0.5,3.1,87, size = 1.090,profit=10},
{1,2016,"Capacete de Mineiro 5%",0,0,-0.560,1.6,3.5,94, size = 1.015,profit=5},
{1,2018,"Capacete Blindado 70%",0,-0.060,-0.550,0.5,9,88, size = 1.010,profit=70},
{1,2019,"Capacete Blindado 80%",0,-0.060,-0.550,0.5,9,88, size = 1,profit=80},
{3,2020,"Colete 20%",0.040,0.030,-0.540,-3,0,97, size = 1,profit=20}}},

]]
{278,{{1,2394,"Capacete Militar 50%",0,0.09,-0.715,0.9,0,95,size=1.1},
{1,1755,"Capacete de Motocicleta 10%",0,0.09,-0.715,0.9,0,95,size=1},
{1,2015,"Máscara de Soldador 10%",0,0.07,-0.63,0.9,0,95,size=1},
{1,2016,"Capacete de Mineiro 5%",0,0.1,-0.79,0.9,0,95,size=1.2},
{1,2018,"Capacete Blindado 70%",0,0.1,-0.621,0.9,0,95,size=1},
{1,2019,"Capacete Blindado 80%",-0.01,0.1,-0.7,0.9,0,95,size=1.1},
{3,936,"Colete 30%",0.01,-0.01,0.06,0,-90,0,size = 1},
{3,2020,"Colete 20%",0.05, 0.02, -0.65, -3, 0, 95, size= 1.1},
{3,2396,"Colete 10%",0,0.08,0.03,0,-90,5,size = 1.1}}},


{277,{{1,2394,"Capacete Militar 50%",0,-0.01,-0.76,0,0,90,size=1.2},
{1,1755,"Capacete de Motocicleta 10%",0,-0.03,-0.78,0,0,95,size=1.1},
{1,2015,"Máscara de Soldador 10%",0,-0.03,-0.7,0,0,95,size=1.1},
{1,2016,"Capacete de Mineiro 5%",0.005,-0.01,-0.87,0,0,95,size=1.3},
{1,2018,"Capacete Blindado 70%",0,-0.007,-0.67,0,0,95,size=1.1},
{1,2019,"Capacete Blindado 80%",0,-0.01,-0.66,0,0,95,size=1.1},
{3,936,"Colete 30%",0,-0.01,0.03,0,-90,0,size=1},
{3,2020,"Colete 20%",-0,0.02,-0.58,0,0,95,size=1},
{3,2396,"Colete 10%",-0,0.07,0.04,0,-90,0,size=1}}},


{287,{{1,2394,"Capacete Militar 50%",0,-0,-0.71,0,0,92,size=1.1},
{1,1755,"Capacete de Motocicleta 10%",0,-0.13,-0.7,0,10,90,size=1},
{1,2015,"Máscara de Soldador 10%",0,-0.03,-0.66,0,0,90,size=1},
{1,2016,"Capacete de Mineiro 5%",0,-0,-0.8,0,0,90,size=1.2},
{1,2018,"Capacete Blindado 70%",0,0.01,-0.69,0,0,90,size=1.1},
{1,2019,"Capacete Blindado 80%",0,0.004,-0.69,0,0,90,size=1.1},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},

{259,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},

{258,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},

{255,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0,-0.01,0.03,0,-90,0,size=0.9},
{3,2020,"Colete 20%",-0,-0,-0.53,0,0,95,size=0.9},
{3,2396,"Colete 10%",-0,0.05,0.03,0,-90,0,size=0.9}}},

{249,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0,-0.04,0.03,0,-90,0,size=0.9},
{3,2020,"Colete 20%",-0,-0,-0.53,0,0,95,size=0.9},
{3,2396,"Colete 10%",-0,0.05,0.03,0,-90,0,size=1}}},

{250,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0,-0.04,0.03,0,-90,0,size=1},
{3,2020,"Colete 20%",-0,-0,-0.55,0,0,95,size=1},
{3,2396,"Colete 10%",-0,0.05,0.06,0,-90,0,size=1}}},

{252,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0,-0.04,0.03,0,-90,0,size=1},
{3,2020,"Colete 20%",-0,-0,-0.55,0,0,95,size=1},
{3,2396,"Colete 10%",-0,0.05,0.06,0,-90,0,size=1}}},

{253,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{3,936,"Colete 30%",0,-0.04,0.03,0,-90,0,size=1},
{3,2020,"Colete 20%",-0,-0,-0.55,0,0,95,size=1},
{3,2396,"Colete 10%",-0,0.05,0.06,0,-90,0,size=1}}},

{275,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{274,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{264,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{262,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{261,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},
{260,{{false,false,"Capacete Militar 50%"},
{false,false,"Capacete de Motocicleta 10%"},
{false,false,"Máscara de Soldador 10%"},
{false,false,"Capacete de Mineiro 5%"},
{false,false,"Capacete Blindado 70%"},
{false,false,"Capacete Blindado 80%"},
{false,false,"Colete 30%"},
{false,false,"Colete 20%"},
{false,false,"Colete 10%"}}},



}
--2396 синий броник
--936 камуфляжный броник с разгрузкой
-- 937 каска с противогазом
--941 шлем sol
function ClotElement(clotName,clotType)
if (getElementData(localPlayer,clotName) or 0) <=0 then
return
end
local skin = getElementModel(localPlayer)
	for i,item in ipairs(clotTable) do
	if item[1] == skin then
--	
	for i,clot in ipairs(item[2]) do
	if clot[3] == clotName then
	if not clot[2] then
	triggerServerEvent("clotElement",localPlayer,false,clotType[1],clotType[2],clot[3] or false,false,false,false,false,false,false,false,false,false)
	break
	else
	triggerServerEvent("clotElement",localPlayer,true,clotType[1],clotType[2],clot[3] or false,clot[1] or false,clot[2] or false,clot[4] or false,clot[5] or false,clot[6] or false,clot[7] or false,clot[8] or false,clot[9] or false,clot.size or false)
	break
	end
	end
	end	
	break	
	end
	
	end	
	

end
addEvent("clotElementC",true)
addEventHandler("clotElementC",getRootElement(),ClotElement)


local bigPay = {
{"Garrafa de Água Completo",3},
{"Lata de Macarrão",3},
{"Lata de Feijão",2},
{"Carne Grelhada",3},
{"Garrafa de Água Com Gás Completo",4},
}
local smallPay ={
{"Garrafa de Água Completo",1},
{"Lata de Macarrão",1},
{"Lata de Feijão",2},
{"Garrafa de Água Com Gás Completo",2},
}

function SyxPay(itemName,act) 

if (getElementData(localPlayer,itemName) or 0) >=  1 then

local curslots = getElementData(localPlayer,"current_SLOTS") or false
local maxslots = getElementData(localPlayer,"MAX_Slots") or false

if act ==1 then

if curslots+15 >= maxslots+PlusSlots() then
triggerEvent ("displayClientInfo",localPlayer,"Inventário","В рюкзаке не хватает места!",255,0,0)
return
end

	for i,item in ipairs(bigPay) do
	setElementData(localPlayer,item[1],(getElementData(localPlayer,item[1]) or 0)+item[2]) --server
	end	
end
if act ==2 then

if curslots+6 >= maxslots then
triggerEvent ("displayClientInfo",localPlayer,"Inventário","В рюкзаке не хватает места!",255,0,0)
return
end

	for i,item in ipairs(smallPay) do
	setElementData(localPlayer,item[1],(getElementData(localPlayer,item[1]) or 0)+item[2]) --server
	end	
end

setElementData(localPlayer,itemName,(getElementData(localPlayer,itemName) or 0)-1)
refreshInventory()
end

end
function equipBackPack(itemName,itemInfo,itemData)
if itemData then
--if getElementData(localPlayer,"playerlvl") < 100 and itemData > 100  then triggerEvent ("displayClientInfo", localPlayer,"Inventário","У вас недостаточно опыта для использования этого рюкзака",255,22,0) return end
if getElementData(localPlayer,"MAX_Slots") == itemData then triggerEvent ("displayClientInfo", localPlayer,"Inventário","Вы уже используете этот рюкзак!",255,22,0) return end
	--if getElementData(localPlayer,"MAX_Slots") > itemData then triggerEvent ("displayClientInfo", localPlayer,"Inventário","В настоящий момент, ваш рюкзак имеет больше пространства!",255,22,0) return end
	
	local enginerSlots = getElementData(localPlayer,"progress.enginer") or 0
	local attackerSlots = getElementData(localPlayer,"progress.attacker") or 0
		
	
	local curSlots = getPlayerCurrentSlots()
	if curSlots<(itemData+math.floor((enginerSlots+attackerSlots)*0.2)) then
	if (getElementData(localPlayer,itemName) or 0) >=1 then
	setElementData(localPlayer,"MAX_Slots",itemData) --server
	else
	return
	end
	else
	triggerEvent ("displayClientInfo", localPlayer,"Inventário","Этот рюкзак имеет меньше пространства чем необходимо!",255,22,0)
	end
	--setElementData(localPlayer,itemName,getElementData(localPlayer,itemName)-1)
	refreshInventory()
	end
end

function onSave(itemName)
showInventoryManual ()
 setTimer(function() showCursor(true) end,1000,1)
 
if saveWindows then 
 guiSetVisible(saveWindows, false)
 showCursor(false)
end
 
saveWindows = guiCreateWindow(500, 450, 200, 100, "Cofre", false) 
editBox = guiCreateEdit( 50, 40, 100, 20, "", false,saveWindows )
guiEditSetMaxLength  (  editBox, 4 )
guiEditSetMasked (  editBox, true )
    buttonOK = guiCreateButton(35, 70, 60, 20, "OK", false,saveWindows)
buttonCANCEL = guiCreateButton(110, 70, 60, 20, "Cancelar", false,saveWindows)

addEventHandler ( "onClientGUIClick", buttonOK,function() 
local passOnSave = guiGetText (editBox)
if string.len(passOnSave)>1 then
if tonumber(passOnSave) then
if (getElementData(localPlayer,"Caixa de Ferramentas") or 0) >=1 then
if (getElementData(localPlayer,"Pá") or 0) >=1 then
guiSetVisible(saveWindows, false)
saveWindows=nil
triggerServerEvent("onPlayerPitchASave",localPlayer,itemName,guiGetText ( editBox ))
 showCursor(false)
 else
 outputChatBox("У вас нет лопаты!")
end
else
outputChatBox("Você não tem ferramentas!")
end
 else
 outputChatBox("Пароль должен состоять только из цифр!")
 end
 else
 outputChatBox("Введите пароль!")
 end
 end,false)
 
addEventHandler ( "onClientGUIClick", buttonCANCEL,function() 
 guiSetVisible(saveWindows, false)
 saveWindows=nil
 showCursor(false)

 end,false)

end







function getWeaponAmmoType2 (weaponName)
for i,weaponData in ipairs(weaponAmmoTable["others"]) do
		if weaponName == weaponData[1] then
		if weaponData[3] then
		return weaponData[3],weaponData[4]
		else
		return weaponData[1],weaponData[2]
		end
		end
	end

	for i,weaponData in ipairs(weaponAmmoTable["Weapons"]) do
		if weaponName == weaponData[1] then
			return weaponData[3],weaponData[4],weaponData[2]
		end
	end

end


function shakeCamera(weapon)
x,y,z = getPedBonePosition ( localPlayer, 26 )
if weapon == 22 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 24 then
createExplosion ( x,y,z + 10,12,false,0.2,false)
elseif weapon == 25 then
createExplosion ( x,y,z + 10,12,false,0.4,false)
elseif weapon == 26 then
createExplosion ( x,y,z + 10,12,false,0.5,false)
elseif weapon == 27 then
createExplosion ( x,y,z + 10,12,false,0.4,false)
elseif weapon == 28 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 29 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 30 then
createExplosion ( x,y,z+10,12,false,0.1,false)
elseif weapon == 31 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 32 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 33 then
createExplosion ( x,y,z + 10,12,false,0.1,false)
elseif weapon == 38 then
createExplosion ( x,y,z + 10,12,false,0.5,false)
end
end

function weaponSwitch (weapon)
	if source == localPlayer then
	
	
	local weaponSwith = getElementData(localPlayer,"weaponSwith") or false
	if weaponSwith then
		local ammoName,_ = getWeaponAmmoType2 (weaponSwith)
		if (getElementData(localPlayer,ammoName) or 0) > 0 then
			setElementData(localPlayer,ammoName,(getElementData(localPlayer,ammoName) or 0)-1) --server
			--if weaponSwith == "CZ550" or weaponSwith == "DMR"   or weaponSwith == "M24" or weaponSwith == "M24 (desert)" then
			--triggerServerEvent ( "reloadWeaponFromFire", localPlayer)
			--triggerEvent("setReloadedSniper",localPlayer)
			--end
			shakeCamera(weapon)
			else
			triggerServerEvent("takeALLweap",localPlayer,weapon)
			
		end
		end
		
	local isDead = getElementData(localPlayer,"isDead")	or false
	if isDead then
	triggerServerEvent("takeALLweap",localPlayer,weapon)
	end
	end
end
addEventHandler ( "onClientPlayerWeaponFire", localPlayer, weaponSwitch )



function makeRadioStayOff()
    setRadioChannel(0)
end
addEventHandler("onClientPlayerVehicleEnter",getRootElement(),makeRadioStayOff)




playerBlibs = {}
amouunt = 0

function updateGPSpharos()
  amouunt = 0
  for i, blip in ipairs(playerBlibs) do
  if isElement(blip) then
    destroyElement(blip)
	end
  end
  

  
  playerBlibs = {}
  
  for i, player in ipairs(getElementsByType("player")) do

  local GPSpharos = getElementData(player, "GPSpharos") or false
  
  if GPSpharos  then
      amouunt = amouunt + 1
      playerBlibs[amouunt] = createBlipAttachedTo(player, 19, 2, 255, 0, 0)
		
   end
  
  
  end
  end
  
  
setTimer(updateGPSpharos, 10000, 0)
